<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Public API: DFU</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Public API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__dfu__domain.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DFU<div class="ingroups"><a class="el" href="group__domains.html">Domains</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A group of DFU related components.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdfu__task__data__t.html">dfu_task_data_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga96f8a8dc2778dba6cef27021df5c57c0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga96f8a8dc2778dba6cef27021df5c57c0">dfu_messages_t</a> { <br />
&#160;&#160;<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0a936770f2fdf5e4e5300cfde025b4f75b">DFU_REQUESTED_TO_CONFIRM</a> = DFU_MESSAGE_BASE, 
<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0a89c7829afe249d105756cfcf1a1120f4">DFU_REQUESTED_IN_PROGRESS</a>, 
<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0aa4b16d0ab4abea14f0d9e4254c648201">DFU_ACTIVITY</a>, 
<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0a2021ff3642293671975541815760710a">DFU_STARTED</a>, 
<br />
&#160;&#160;<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0afefd1f5fb59218e6eaf7d87668016190">DFU_COMPLETED</a>, 
<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0a679951cbd001142ae6fe2e941de88531">DFU_CLEANUP_ON_ABORT</a>, 
<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0afa049d034267f327c18e180a80490e83">DFU_ABORTED</a>, 
<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0a9f668df7e2f43e73ed0098aafccc546e">DFU_PRE_START</a>, 
<br />
&#160;&#160;<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0abe45c64e3fae017dc629f8e0fa93a3cc">DFU_READY_FOR_SILENT_COMMIT</a>, 
<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0a3e87c87c437eae09b9ae9c67af578077">DFU_READY_TO_REBOOT</a>, 
<a class="el" href="group__dfu__domain.html#gga96f8a8dc2778dba6cef27021df5c57c0a76f76696b8c82698a42f04f03220dc2a">DFU_MESSAGE_END</a>
<br />
 }</td></tr>
<tr class="separator:ga96f8a8dc2778dba6cef27021df5c57c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0bc3db3adff17b2fd6b60f606043cdf7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga0bc3db3adff17b2fd6b60f606043cdf7">Dfu_AllowUpgrades</a> (bool allow)</td></tr>
<tr class="memdesc:ga0bc3db3adff17b2fd6b60f606043cdf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow upgrades to be started.  <a href="group__dfu__domain.html#ga0bc3db3adff17b2fd6b60f606043cdf7">More...</a><br /></td></tr>
<tr class="separator:ga0bc3db3adff17b2fd6b60f606043cdf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0667cd910f4c7fd6b9757ab11b11eda"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#gad0667cd910f4c7fd6b9757ab11b11eda">Dfu_ClearPsStore</a> (void)</td></tr>
<tr class="memdesc:gad0667cd910f4c7fd6b9757ab11b11eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears upgrade related PSKeys.  <a href="group__dfu__domain.html#gad0667cd910f4c7fd6b9757ab11b11eda">More...</a><br /></td></tr>
<tr class="separator:gad0667cd910f4c7fd6b9757ab11b11eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0515580134ae72d6704178d73bf71ea0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga0515580134ae72d6704178d73bf71ea0">Dfu_ClientRegister</a> (Task <a class="el" href="group__device__test__service.html#gaba8d7e5c1906844fdb6e47953d3518fc">task</a>)</td></tr>
<tr class="memdesc:ga0515580134ae72d6704178d73bf71ea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a client to the UPGRADE module.  <a href="group__dfu__domain.html#ga0515580134ae72d6704178d73bf71ea0">More...</a><br /></td></tr>
<tr class="separator:ga0515580134ae72d6704178d73bf71ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08b44c37db10202e11c3f612457c26a5"><td class="memItemLeft" align="right" valign="top">upgrade_context_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga08b44c37db10202e11c3f612457c26a5">Dfu_GetContext</a> (void)</td></tr>
<tr class="memdesc:ga08b44c37db10202e11c3f612457c26a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the context of the UPGRADE module.  <a href="group__dfu__domain.html#ga08b44c37db10202e11c3f612457c26a5">More...</a><br /></td></tr>
<tr class="separator:ga08b44c37db10202e11c3f612457c26a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca89d6f479f5c254c186bc9e97976bac"><td class="memItemLeft" align="right" valign="top">dfu_reboot_reason_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#gaca89d6f479f5c254c186bc9e97976bac">Dfu_GetRebootReason</a> (void)</td></tr>
<tr class="memdesc:gaca89d6f479f5c254c186bc9e97976bac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the reboot reason.  <a href="group__dfu__domain.html#gaca89d6f479f5c254c186bc9e97976bac">More...</a><br /></td></tr>
<tr class="separator:gaca89d6f479f5c254c186bc9e97976bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8dbf3d8df561d4dfba455458e8d6dd5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga8dbf3d8df561d4dfba455458e8d6dd5f">Dfu_HandleDeviceNotInUse</a> (void)</td></tr>
<tr class="memdesc:ga8dbf3d8df561d4dfba455458e8d6dd5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device is not in use currently so, proceed with the pending silent commit if any.  <a href="group__dfu__domain.html#ga8dbf3d8df561d4dfba455458e8d6dd5f">More...</a><br /></td></tr>
<tr class="separator:ga8dbf3d8df561d4dfba455458e8d6dd5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1368263edb13f71ead4033ebf573d82f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga1368263edb13f71ead4033ebf573d82f">Dfu_HandleSystemMessages</a> (MessageId id, Message message, bool already_handled)</td></tr>
<tr class="memdesc:ga1368263edb13f71ead4033ebf573d82f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for system messages. All of which are sent to the application.  <a href="group__dfu__domain.html#ga1368263edb13f71ead4033ebf573d82f">More...</a><br /></td></tr>
<tr class="separator:ga1368263edb13f71ead4033ebf573d82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad66f2c3311962f302e617a7900527c6f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#gad66f2c3311962f302e617a7900527c6f">Dfu_Init</a> (Task init_task)</td></tr>
<tr class="separator:gad66f2c3311962f302e617a7900527c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga099f2bf7cf1bda0db19ee5ba9986eb35"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga099f2bf7cf1bda0db19ee5ba9986eb35">Dfu_IsSilentCommitEnabled</a> (void)</td></tr>
<tr class="memdesc:ga099f2bf7cf1bda0db19ee5ba9986eb35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out if silent commit is enabled.  <a href="group__dfu__domain.html#ga099f2bf7cf1bda0db19ee5ba9986eb35">More...</a><br /></td></tr>
<tr class="separator:ga099f2bf7cf1bda0db19ee5ba9986eb35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc7ca274d647a5c21e1a014fe83d8201"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#gabc7ca274d647a5c21e1a014fe83d8201">Dfu_IsUpgradeInProgress</a> (void)</td></tr>
<tr class="separator:gabc7ca274d647a5c21e1a014fe83d8201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33229b417da4eccd7361b3fb0be8d0e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga33229b417da4eccd7361b3fb0be8d0e9">Dfu_RebootConfirm</a> (void)</td></tr>
<tr class="memdesc:ga33229b417da4eccd7361b3fb0be8d0e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the DFU domain that a reboot can go ahead now.  <a href="group__dfu__domain.html#ga33229b417da4eccd7361b3fb0be8d0e9">More...</a><br /></td></tr>
<tr class="separator:ga33229b417da4eccd7361b3fb0be8d0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9cd31d500500aafbbdcf08a2cfb91d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#gae9cd31d500500aafbbdcf08a2cfb91d8">Dfu_RequireRebootPermission</a> (bool permission_required)</td></tr>
<tr class="memdesc:gae9cd31d500500aafbbdcf08a2cfb91d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn on or off permission requests for DFU reboots.  <a href="group__dfu__domain.html#gae9cd31d500500aafbbdcf08a2cfb91d8">More...</a><br /></td></tr>
<tr class="separator:gae9cd31d500500aafbbdcf08a2cfb91d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06c46b5ebb94926921d101bfc6ef8473"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga06c46b5ebb94926921d101bfc6ef8473">Dfu_SetContext</a> (upgrade_context_t context)</td></tr>
<tr class="memdesc:ga06c46b5ebb94926921d101bfc6ef8473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the context of the UPGRADE module.  <a href="group__dfu__domain.html#ga06c46b5ebb94926921d101bfc6ef8473">More...</a><br /></td></tr>
<tr class="separator:ga06c46b5ebb94926921d101bfc6ef8473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78dffd67c22fb2407b5266af143d1ba2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga78dffd67c22fb2407b5266af143d1ba2">Dfu_SetPeerDataTransferStatus</a> (peer_data_transfer_status status)</td></tr>
<tr class="memdesc:ga78dffd67c22fb2407b5266af143d1ba2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the peerDataTransferStatus as per the peer upgrade status.  <a href="group__dfu__domain.html#ga78dffd67c22fb2407b5266af143d1ba2">More...</a><br /></td></tr>
<tr class="separator:ga78dffd67c22fb2407b5266af143d1ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78582132b088963b509d5cfe786aa54a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#ga78582132b088963b509d5cfe786aa54a">Dfu_SetRebootReason</a> (dfu_reboot_reason_t val)</td></tr>
<tr class="memdesc:ga78582132b088963b509d5cfe786aa54a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the reboot reason.  <a href="group__dfu__domain.html#ga78582132b088963b509d5cfe786aa54a">More...</a><br /></td></tr>
<tr class="separator:ga78582132b088963b509d5cfe786aa54a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5983b5c24f86d45387aee62215dab3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__domain.html#gac5983b5c24f86d45387aee62215dab3a">Dfu_SetSilentCommitSupported</a> (uint8 is_silent_commit_supported)</td></tr>
<tr class="memdesc:gac5983b5c24f86d45387aee62215dab3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set if silent commit is supported.  <a href="group__dfu__domain.html#gac5983b5c24f86d45387aee62215dab3a">More...</a><br /></td></tr>
<tr class="separator:gac5983b5c24f86d45387aee62215dab3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A group of DFU related components. </p>
<p>The DFU domain provides abstraction for GAIA base DFU protocol. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga96f8a8dc2778dba6cef27021df5c57c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96f8a8dc2778dba6cef27021df5c57c0">&#9670;&nbsp;</a></span>dfu_messages_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__dfu__domain.html#ga96f8a8dc2778dba6cef27021df5c57c0">dfu_messages_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>
<p>Messages that are sent by the dfu module </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a936770f2fdf5e4e5300cfde025b4f75b"></a>DFU_REQUESTED_TO_CONFIRM&#160;</td><td class="fielddoc"><p>Message sent after the device has restarted. This indicates that an upgrade has nearly completed and upgrade mode is needed to allow the upgrade to be confirmed </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a89c7829afe249d105756cfcf1a1120f4"></a>DFU_REQUESTED_IN_PROGRESS&#160;</td><td class="fielddoc"><p>Message sent after the device has restarted. This indicates that an upgrade is in progress and has been interrupted </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0aa4b16d0ab4abea14f0d9e4254c648201"></a>DFU_ACTIVITY&#160;</td><td class="fielddoc"><p>The DFU module has seen some DFU activity </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a2021ff3642293671975541815760710a"></a>DFU_STARTED&#160;</td><td class="fielddoc"><p>An DFU is now in progress. Started or continued. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0afefd1f5fb59218e6eaf7d87668016190"></a>DFU_COMPLETED&#160;</td><td class="fielddoc"><p>An DFU has been completed </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a679951cbd001142ae6fe2e941de88531"></a>DFU_CLEANUP_ON_ABORT&#160;</td><td class="fielddoc"><p>An DFU is aborted, clean up DFU specific entities </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0afa049d034267f327c18e180a80490e83"></a>DFU_ABORTED&#160;</td><td class="fielddoc"><p>An upgrade has been aborted. either owing to device initiated error OR device initiated error in Handover scenario OR Host inititated abort </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a9f668df7e2f43e73ed0098aafccc546e"></a>DFU_PRE_START&#160;</td><td class="fielddoc"><p>A DFU is about to start, in the pre start phase, the alternate DFU bank may be erased. So early notify the app to cancel DFU timers to avoid false DFU timeouts. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0abe45c64e3fae017dc629f8e0fa93a3cc"></a>DFU_READY_FOR_SILENT_COMMIT&#160;</td><td class="fielddoc"><p>The DFU is ready for the silent commit. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a3e87c87c437eae09b9ae9c67af578077"></a>DFU_READY_TO_REBOOT&#160;</td><td class="fielddoc"><p>DFU file transfer complete, ready to reboot into new image. App should perform any required shutdown actions, then call <a class="el" href="group__dfu__domain.html#ga33229b417da4eccd7361b3fb0be8d0e9" title="Notify the DFU domain that a reboot can go ahead now.">Dfu_RebootConfirm()</a>. This message is only sent if Dfu_RequireRebootPermission(TRUE) has been called. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a76f76696b8c82698a42f04f03220dc2a"></a>DFU_MESSAGE_END&#160;</td><td class="fielddoc"><p>This must be the final message </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga0bc3db3adff17b2fd6b60f606043cdf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0bc3db3adff17b2fd6b60f606043cdf7">&#9670;&nbsp;</a></span>Dfu_AllowUpgrades()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_AllowUpgrades </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Allow upgrades to be started. </p>
<p>The library used for firmware upgrades will always allow connections. However, it is possible to stop upgrades from beginning or completing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allow</td><td>allow or disallow upgrades</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the request has taken effect. This setting can not be changed if an upgrade is in progress in which case the function will return FALSE. </dd></dl>

</div>
</div>
<a id="gad0667cd910f4c7fd6b9757ab11b11eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0667cd910f4c7fd6b9757ab11b11eda">&#9670;&nbsp;</a></span>Dfu_ClearPsStore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_ClearPsStore </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Clears upgrade related PSKeys. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if upgrade PSKEYs are cleared, FALSE otherwise</dd></dl>
<p>Clears upgrade related PSKeys. </p>

</div>
</div>
<a id="ga0515580134ae72d6704178d73bf71ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0515580134ae72d6704178d73bf71ea0">&#9670;&nbsp;</a></span>Dfu_ClientRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_ClientRegister </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Add a client to the UPGRADE module. </p>
<p>Messages from #av_headet_upgrade_messages will be sent to any task registered through this API</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task to register as a client </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga08b44c37db10202e11c3f612457c26a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08b44c37db10202e11c3f612457c26a5">&#9670;&nbsp;</a></span>Dfu_GetContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upgrade_context_t Dfu_GetContext </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Get the context of the UPGRADE module. </p>
<p>The value is stored in the UPGRADE PsKey and hence is non-volatile</p>
<dl class="section return"><dt>Returns</dt><dd>The non-volatile context of the UPGRADE module from the UPGRADE PsKey </dd></dl>

</div>
</div>
<a id="gaca89d6f479f5c254c186bc9e97976bac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca89d6f479f5c254c186bc9e97976bac">&#9670;&nbsp;</a></span>Dfu_GetRebootReason()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dfu_reboot_reason_t Dfu_GetRebootReason </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Gets the reboot reason. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>REBOOT_REASON_DFU_RESET for defined reboot phase of upgrade else REBOOT_REASON_ABRUPT_RESET for abrupt reset.</dd></dl>
<p>Gets the reboot reason. </p>

</div>
</div>
<a id="ga8dbf3d8df561d4dfba455458e8d6dd5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8dbf3d8df561d4dfba455458e8d6dd5f">&#9670;&nbsp;</a></span>Dfu_HandleDeviceNotInUse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_HandleDeviceNotInUse </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Device is not in use currently so, proceed with the pending silent commit if any. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="ga1368263edb13f71ead4033ebf573d82f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1368263edb13f71ead4033ebf573d82f">&#9670;&nbsp;</a></span>Dfu_HandleSystemMessages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_HandleSystemMessages </td>
          <td>(</td>
          <td class="paramtype">MessageId&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Message&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>already_handled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Handler for system messages. All of which are sent to the application. </p>
<p>This function is called to handle any system messages that this module is interested in. If a message is processed then the function returns TRUE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Identifier of the system message </td></tr>
    <tr><td class="paramname">message</td><td>The message content (if any) </td></tr>
    <tr><td class="paramname">already_handled</td><td>Indication whether this message has been processed by another module. The handler may choose to ignore certain messages if they have already been handled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the message has been processed, otherwise returns the value in already_handled </dd></dl>

</div>
</div>
<a id="gad66f2c3311962f302e617a7900527c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad66f2c3311962f302e617a7900527c6f">&#9670;&nbsp;</a></span>Dfu_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_Init </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>init_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>
<p>Initialisation point for the over the air support in the upgrade library. </p>

</div>
</div>
<a id="ga099f2bf7cf1bda0db19ee5ba9986eb35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga099f2bf7cf1bda0db19ee5ba9986eb35">&#9670;&nbsp;</a></span>Dfu_IsSilentCommitEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_IsSilentCommitEnabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Find out if silent commit is enabled. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if silent commit is set </dd></dl>

</div>
</div>
<a id="gabc7ca274d647a5c21e1a014fe83d8201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc7ca274d647a5c21e1a014fe83d8201">&#9670;&nbsp;</a></span>Dfu_IsUpgradeInProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_IsUpgradeInProgress </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>
<p>Get the progress of upgrade.</p>
<p>Returns TRUE if upgrade is in progress else FALSE. </p>

</div>
</div>
<a id="ga33229b417da4eccd7361b3fb0be8d0e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga33229b417da4eccd7361b3fb0be8d0e9">&#9670;&nbsp;</a></span>Dfu_RebootConfirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_RebootConfirm </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Notify the DFU domain that a reboot can go ahead now. </p>
<p>This function must be called on reciept of a DFU_READY_TO_REBOOT message, and will cause the Upgrade library to reboot into a new image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="gae9cd31d500500aafbbdcf08a2cfb91d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9cd31d500500aafbbdcf08a2cfb91d8">&#9670;&nbsp;</a></span>Dfu_RequireRebootPermission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_RequireRebootPermission </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>permission_required</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Turn on or off permission requests for DFU reboots. </p>
<p>By default the DFU domain will reboot the device automatically as required during the upgrade process. This behaviour can be overridden if the application has actions it needs to perform before a device shutdown.</p>
<p>If permission_required is set to TRUE, then a DFU_READY_TO_REBOOT message will be sent to all registered clients instead of rebooting into a new image directly. Otherwise, the message is not sent.</p>
<p>On recipt of DFU_READY_TO_REBOOT, the application must respond by calling <a class="el" href="group__dfu__domain.html#ga33229b417da4eccd7361b3fb0be8d0e9" title="Notify the DFU domain that a reboot can go ahead now.">Dfu_RebootConfirm()</a> once it is ready for the reboot to go ahead, otherwise the upgrade will not complete successfully. This is not required if permission_required is set to FALSE (the default).</p>
<dl class="section note"><dt>Note</dt><dd>Changes to reboot permissions will not take effect until the next time <a class="el" href="group__dfu__domain.html#ga0bc3db3adff17b2fd6b60f606043cdf7" title="Allow upgrades to be started.">Dfu_AllowUpgrades()</a> is called.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permission_required</td><td>Whether the application should be consulted before rebooting into a new image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="ga06c46b5ebb94926921d101bfc6ef8473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06c46b5ebb94926921d101bfc6ef8473">&#9670;&nbsp;</a></span>Dfu_SetContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_SetContext </td>
          <td>(</td>
          <td class="paramtype">upgrade_context_t&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Set the context of the UPGRADE module. </p>
<p>The value is stored in the UPGRADE PsKey and hence is non-volatile</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dfu_context_t</td><td>Upgrade context to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga78dffd67c22fb2407b5266af143d1ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78dffd67c22fb2407b5266af143d1ba2">&#9670;&nbsp;</a></span>Dfu_SetPeerDataTransferStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_SetPeerDataTransferStatus </td>
          <td>(</td>
          <td class="paramtype">peer_data_transfer_status&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Set the peerDataTransferStatus as per the peer upgrade status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peer_data_transfer_status</td><td>Used to assign required enum values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="ga78582132b088963b509d5cfe786aa54a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78582132b088963b509d5cfe786aa54a">&#9670;&nbsp;</a></span>Dfu_SetRebootReason()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_SetRebootReason </td>
          <td>(</td>
          <td class="paramtype">dfu_reboot_reason_t&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Sets the reboot reason. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dfu_reboot_reason_t</td><td>Reboot reason</td></tr>
  </table>
  </dd>
</dl>
<p>Sets the reboot reason. </p>

</div>
</div>
<a id="gac5983b5c24f86d45387aee62215dab3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5983b5c24f86d45387aee62215dab3a">&#9670;&nbsp;</a></span>Dfu_SetSilentCommitSupported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_SetSilentCommitSupported </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>is_silent_commit_supported</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Set if silent commit is supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_silent_commit_supported</td><td>Used to assign required value (0 or 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
